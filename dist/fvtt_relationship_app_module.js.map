{"version":3,"file":"fvtt_relationship_app_module.js","sources":["../src/polyfills/cytoscape-assign-fix.ts","../src/constants.ts","../src/core/init-solid.ts"],"sourcesContent":["// Polyfill für Cytoscape: Object.assign readonly 'equals' fix\r\nObject.assign = function (target: any, ...sources: any[]) {\r\n  for (const source of sources) {\r\n    if (source != null) {\r\n      for (const key in source) {\r\n        if (Object.prototype.hasOwnProperty.call(source, key) && key !== \"equals\") {\r\n          try {\r\n            target[key] = source[key];\r\n          } catch {\r\n            // Ignore readonly property errors\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n};\r\n","export const MODULE_CONSTANTS = {\r\n  MODULE: {\r\n    ID: \"fvtt_relationship_app_module\",\r\n    NAME: \"Beziehungsnetzwerke für Foundry\",\r\n    AUTHOR: \"Andreas Rothe\",\r\n    AUTHOR_EMAIL: \"forenadmin.tir@gmail.com\",\r\n    AUTHOR_DISCORD: \"lewellyen\",\r\n  },\r\n  LOG_PREFIX: \"Foundry VTT Relationship App Module |\",\r\n}","import { MODULE_CONSTANTS } from \"../constants\";\r\n\r\nHooks.on(\"init\", () => {\r\n  console.log(`${MODULE_CONSTANTS.LOG_PREFIX} init`);\r\n  Hooks.on(\"renderJournalDirectory\", (app, html) => {\r\n    console.debug(`${MODULE_CONSTANTS.LOG_PREFIX} renderJournalDirectory fired`, app);\r\n\r\n    const hidden = (game as any).journal.filter((j: any) => j.getFlag(MODULE_CONSTANTS.MODULE.ID as any, \"hidden\") === true);\r\n    console.debug(`${MODULE_CONSTANTS.LOG_PREFIX} Found ${hidden.length} hidden journal entries`);\r\n    \r\n    for (const j of hidden) {\r\n      const element = (html as HTMLElement).querySelector(`li.directory-item[data-entry-id=\"${j.id}\"]`) as HTMLElement;\r\n      if (element) {\r\n        console.debug(`${MODULE_CONSTANTS.LOG_PREFIX} Removing journal entry: ${j.name}`);\r\n        element.remove();\r\n      } else {\r\n        console.warn(`${MODULE_CONSTANTS.LOG_PREFIX} Could not find element for journal entry: ${j.name} (${j.id})`);\r\n      }\r\n    }\r\n  });\r\n});\r\n\r\nHooks.on(\"ready\", () => {\r\n  console.log(`${MODULE_CONSTANTS.LOG_PREFIX} ready`);\r\n});\r\n\r\n"],"names":[],"mappings":"AACA,OAAO,SAAS,SAAU,WAAgB,SAAgB;AACxD,aAAW,UAAU,SAAS;AAC5B,QAAI,UAAU,MAAM;AAClB,iBAAW,OAAO,QAAQ;AACxB,YAAI,OAAO,UAAU,eAAe,KAAK,QAAQ,GAAG,KAAK,QAAQ,UAAU;AACzE,cAAI;AACF,mBAAO,GAAG,IAAI,OAAO,GAAG;AAAA,UAC1B,QAAQ;AAAA,UAER;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AChBO,MAAM,mBAAmB;AAAA,EAC9B,QAAQ;AAAA,IACN,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,cAAc;AAAA,IACd,gBAAgB;AAAA,EAAA;AAAA,EAElB,YAAY;AACd;ACPA,MAAM,GAAG,QAAQ,MAAM;AACrB,UAAQ,IAAI,GAAG,iBAAiB,UAAU,OAAO;AACjD,QAAM,GAAG,0BAA0B,CAAC,KAAK,SAAS;AAChD,YAAQ,MAAM,GAAG,iBAAiB,UAAU,iCAAiC,GAAG;AAEhF,UAAM,SAAU,KAAa,QAAQ,OAAO,CAAC,MAAW,EAAE,QAAQ,iBAAiB,OAAO,IAAW,QAAQ,MAAM,IAAI;AACvH,YAAQ,MAAM,GAAG,iBAAiB,UAAU,UAAU,OAAO,MAAM,yBAAyB;AAE5F,eAAW,KAAK,QAAQ;AACtB,YAAM,UAAW,KAAqB,cAAc,oCAAoC,EAAE,EAAE,IAAI;AAChG,UAAI,SAAS;AACX,gBAAQ,MAAM,GAAG,iBAAiB,UAAU,4BAA4B,EAAE,IAAI,EAAE;AAChF,gBAAQ,OAAA;AAAA,MACV,OAAO;AACL,gBAAQ,KAAK,GAAG,iBAAiB,UAAU,8CAA8C,EAAE,IAAI,KAAK,EAAE,EAAE,GAAG;AAAA,MAC7G;AAAA,IACF;AAAA,EACF,CAAC;AACH,CAAC;AAED,MAAM,GAAG,SAAS,MAAM;AACtB,UAAQ,IAAI,GAAG,iBAAiB,UAAU,QAAQ;AACpD,CAAC;"}