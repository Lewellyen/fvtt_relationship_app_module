# Release Notes - Version 0.43.2

**Veröffentlichungsdatum:** 2025-12-10

## Hinzugefügt
- **MetricsAggregator**: Neue Klasse für Aggregation von Raw Metrics zu Snapshots ([Details](docs/refactoring/02-metrics-collector-srp-refactoring.md))
- **MetricsPersistenceManager**: Neue Klasse für Serialization/Deserialization von Metrics State
- **MetricsStateManager**: Neue Klasse für State-Change-Management mit Observer-Pattern
- **IRawMetrics Interface**: Interface für Raw Metrics-Datenstruktur
- **IMetricsAggregator Interface**: Interface für Metrics-Aggregation
- **IMetricsPersistenceManager Interface**: Interface für Metrics-Persistence
- **IMetricsStateManager Interface**: Interface für State-Management
- **metrics-types.ts**: Separate Datei für MetricsSnapshot und MetricsPersistenceState Types (verhindert Circular Dependencies)

## Geändert
- **MetricsCollector SRP-Refactoring**: MetricsCollector wurde nach Single Responsibility Principle (SRP) refactored, um die 4 verschiedenen Verantwortlichkeiten in spezialisierte Komponenten aufzuteilen ([Details](docs/refactoring/02-metrics-collector-srp-refactoring.md))
- `MetricsCollector`: Jetzt nur noch für Metrics-Sammlung zuständig (recordResolution, recordPortSelection, recordCacheAccess, getRawMetrics)
- `MetricsAggregator`: Übernimmt Aggregation zu Snapshots (aggregate, calculateAverage, calculateCacheHitRate)
- `MetricsPersistenceManager`: Übernimmt Persistence-Operationen (serialize, deserialize)
- `MetricsStateManager`: Übernimmt State-Change-Management (onStateChanged, unsubscribe, reset)
- `getSnapshot()`: Delegiert jetzt zu MetricsAggregator
- `getPersistenceState()`: Delegiert jetzt zu MetricsPersistenceManager
- `restoreFromPersistenceState()`: Delegiert jetzt zu MetricsPersistenceManager
- `reset()`: Nutzt jetzt MetricsStateManager für State-Reset
- `onStateChanged()`: Nutzt jetzt MetricsStateManager für Notifications
- `PersistentMetricsCollector`: Ruft jetzt super.onStateChanged() auf, um State-Manager-Notifications zu triggern
- Verbesserte Testbarkeit: Jede Komponente kann isoliert getestet werden
- Keine Breaking Changes: Public API bleibt unverändert
- Circular Dependencies behoben: MetricsSnapshot und MetricsPersistenceState in separate Datei verschoben

## Fehlerbehebungen
- Keine Einträge

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
