# Release Notes - Version 0.36.0

**Veröffentlichungsdatum:** 2025-11-26

## Hinzugefügt
- **MetricsStorage Factory**: Factory-Function für MetricsStorage-Erstellung ([Details](src/infrastructure/observability/metrics-persistence/metrics-storage-factory.ts))
- `createMetricsStorage(key)`: Erstellt LocalStorageMetricsStorage
- `createInMemoryMetricsStorage()`: Erstellt In-Memory-Storage für Tests
- DIP-konform: Config-Module kennt nur Factory, nicht konkrete Implementierung
- **BootstrapHooksPort**: Domain-Port für Bootstrap-Lifecycle-Hooks ([Details](src/domain/ports/bootstrap-hooks-port.interface.ts))
- `onInit(callback)`: Registriert Init-Hook
- `onReady(callback)`: Registriert Ready-Hook
- Platform-agnostisch mit dokumentierter Foundry-Ausnahme
- **FoundryBootstrapHooksAdapter**: Foundry-Implementierung von BootstrapHooksPort ([Details](src/infrastructure/adapters/foundry/bootstrap-hooks-adapter.ts))
- **SettingsRegistrationPort**: Domain-neutraler Port für Settings ohne Valibot-Abhängigkeit ([Details](src/domain/ports/settings-registration-port.interface.ts))
- `registerSetting()`: Registriert Setting mit domain-neutraler Config
- `getSettingValue()`: Liest Setting mit Validator-Function statt Valibot-Schema
- `setSettingValue()`: Schreibt Setting-Wert
- **FoundrySettingsRegistrationAdapter**: Foundry-Implementierung von SettingsRegistrationPort ([Details](src/infrastructure/adapters/foundry/settings-adapters/foundry-settings-registration-adapter.ts))
- **Domain Settings Types**: Platform-agnostische Settings-Typen ([Details](src/domain/types/settings.ts))
- `DomainSettingConfig<T>`: Domain-neutrale Setting-Konfiguration
- `DomainSettingsError`: Domain-neutrale Error-Typen
- `SettingValidator<T>`: Type-Guard-Function für Validierung
- `SettingValidators`: Vordefinierte Validatoren (boolean, number, string, etc.)

## Geändert
- **Bootstrap-Services**: Nutzen jetzt BootstrapHooksPort statt direktes Hooks.on() ([Details](src/framework/core/bootstrap-init-hook.ts), [Details](src/framework/core/bootstrap-ready-hook.ts))
- `BootstrapInitHookService`: Dependency auf `BootstrapHooksPort` statt globales `Hooks`
- `BootstrapReadyHookService`: Dependency auf `BootstrapHooksPort` statt globales `Hooks`
- DIP-konform: Keine direkten Foundry-Globals mehr in Service-Klassen
- **ModuleSettingsRegistrar**: Nutzt jetzt SettingsRegistrationPort statt PlatformSettingsPort ([Details](src/application/services/ModuleSettingsRegistrar.ts))
- Verwendet domain-neutrale `SettingValidators` statt Valibot-Schemas
- `runtimeConfigBindings` nutzt `SettingValidator<T>` statt `BaseSchema`
- Keine Imports aus Infrastructure-Layer für Validierung mehr
- **core-services.config.ts**: MetricsStorage-Erstellung über Factory ([Details](src/framework/config/modules/core-services.config.ts))
- `createMetricsStorage(key)` statt `new LocalStorageMetricsStorage(key)`
- Registriert `BootstrapHooksPort` vor Bootstrap-Services

## Fehlerbehebungen
- **Coverage Bootstrap + Settings + Metrics**: Neue Tests für `metrics-storage-factory`, `bootstrap-hooks-adapter`, `foundry-settings-registration-adapter` sowie die `SettingValidators` schließen alle offenen Coverage-Lücken und stabilisieren das 100 %-Gate ([Details](docs/refactoring/DIP-Refactoring-Plan-5-MetricsStorageFactory.md#testabdeckung), [Weitere Infos](docs/refactoring/DIP-Refactoring-Overview.md))

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
