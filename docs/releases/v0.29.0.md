# Release Notes - Version 0.29.0

**Veröffentlichungsdatum:** 2025-11-23

## Hinzugefügt
- **Journal Context-Menü via libWrapper**: Context-Menü-Eintrag "Journal ausblenden" über libWrapper statt Hook implementiert ([Details](docs/refactoring/Context-Menu-Custom-Entry-Implementation.md))
- **Handler-Pattern für Context-Menü**: Erweiterbares Handler-Pattern für Context-Menü-Items (`JournalContextMenuHandler`, `HideJournalContextMenuHandler`)
- **lib-wrapper Dependency**: lib-wrapper als Dependency hinzugefügt für sichere Method-Wrapping
- **RegisterContextMenuUseCase**: Neuer Use-Case als Orchestrator für mehrere Context-Menü-Handler
- **JournalVisibilityPort.setEntryFlag()**: Neue Methode zum Setzen von Flags auf Journal-Einträgen
- **JournalEventPort.onJournalContextMenu()**: Neue Methode für Context-Menü-Events (nutzt jetzt libWrapper)

## Geändert
- **FoundryJournalEventAdapter.onJournalContextMenu()**: Nutzt jetzt libWrapper für `ContextMenu.prototype.render` statt Hook `getJournalEntryContext` (der in Foundry v13 nicht mehr aufgerufen wird)
- **Runtime-Casts**: Verbesserte Runtime-Validierung für `castFoundrySettingsApi`, `castDisposablePort`, `castFoundryDocumentForFlag`, `castCachedServiceInstanceForResult`; gemeinsame Type-Guard-Utilities in `shared/utils/type-guards.ts`; Verwendung von Result-Pattern statt Error-Throws für konsistente Fehlerbehandlung ([Details](src/infrastructure/adapters/foundry/runtime-casts.ts), [Details](src/infrastructure/di/types/utilities/runtime-safe-cast.ts))

## Fehlerbehebungen
- Keine Einträge

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
