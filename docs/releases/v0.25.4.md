# Release Notes - Version 0.25.4

**Veröffentlichungsdatum:** 2025-11-16

## Hinzugefügt
- **Quality Gate – Core/Services/Utils/Types**: No-Ignores-Gate für `src/core/**` (ohne `init-solid.ts`), `src/services/**`, `src/utils/**` und `src/types/**`; Produktionscode in diesen Bereichen verzichtet vollständig auf `c8 ignore`, `type-coverage:ignore`, `eslint-disable` und `ts-ignore` ([Details](docs/quality-gates/no-ignores/01-core-services-utils.md), [docs/TESTING.md#coverage-requirements))
- **No-Ignores-Check Script**: Neues `npm run check:no-ignores` Script prüft automatisch auf verbotene Ignore-Direktiven in No-Ignores-Zonen; in `check:all`/`check-all` und CI-Pipeline integriert ([Details](scripts/check-no-ignores.mjs), [.github/workflows/ci.yml])

## Geändert
- **CacheService & RuntimeConfig**: Cache-Lookups, LRU-Enforcement und RuntimeConfig-Listener sind jetzt vollständig per Tests abgedeckt und kommen ohne `c8 ignore`-/`type-coverage:ignore`-Marker aus; der Cache-Service bleibt generisch typisiert, ohne `any`-Leaks ([Details](src/services/CacheService.ts), [src/core/runtime-config/runtime-config.service.ts))
- **JournalVisibility & Hooks**: `JournalVisibilityService`, `RenderJournalDirectoryHook` und `JournalCacheInvalidationHook` wurden so angepasst, dass alle Error- und Edge-Pfade testbar sind (inkl. Cache-Hits, XSS-Sanitizing, Hook-Rollback) und keine Coverage-Ignores im Kern mehr benötigen ([Details](src/services/JournalVisibilityService.ts), [src/core/hooks/render-journal-directory-hook.ts), [src/core/hooks/journal-cache-invalidation-hook.ts))
- **Readonly-Wrapper & Public API**: `createReadOnlyWrapper` und `ModuleApiInitializer` verwenden präzisere Generics statt type-coverage-Ignores; alle ReadOnly-Proxys (Logger, I18n, NotificationCenter, FoundrySettings) sind weiterhin 100 % test- und type-abgedeckt ([Details](src/core/api/readonly-wrapper.ts), [src/core/api/module-api-initializer.ts))

## Fehlerbehebungen
- **RetryService lastError-Flow**: Beide Retry-Schleifen (`retry`, `retrySync`) behandeln jetzt auch theoretisch unmögliche Pfade ohne Non-Null-Assertions und melden im Extremfall einen synthetisch gemappten Fehler, statt auf Flow-Analyse-Casts zu vertrauen ([Details](src/services/RetryService.ts))
- **LocalI18nService Locale Edge-Cases**: Locale-Erkennung deckt nun auch exotische `navigator.language`-Formate (z.B. Objekte mit eigener `split()`-Implementierung) ab; Tests sichern den Fallback auf `"en"` und schließen die letzten Branch-Lücken ohne `c8 ignore` ([Details](src/services/LocalI18nService.ts), [src/services/__tests__/LocalI18nService.test.ts))

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
