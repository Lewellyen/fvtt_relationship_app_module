# Release Notes - Version 0.17.0

**Veröffentlichungsdatum:** 2025-11-13

## Hinzugefügt
- **NotificationCenter - Extensible Message Bus**: Zentrale Nachrichtenverteilung mit flexiblem Channel-System ([Details](src/notifications/NotificationCenter.ts))
- Ersetzt direkte Logger/ErrorService-Aufrufe durch einheitliches Notification-Pattern
- **Channel-basierte Architektur**: Extensible Output-Channels (Strategy Pattern)
- `ConsoleChannel`: Console-Logging via Logger (alle Levels: debug/info/warn/error)
- `UIChannel`: End-User-Benachrichtigungen via FoundryUI (nur info/warn/error, automatische Sanitization in Production)
- Weitere Channels einfach erweiterbar (z.B. SentryChannel, LogFileChannel, WebhookChannel)
- **Multi-Channel-Routing**: Nachrichten automatisch an passende Channels verteilt
- **Level-basiertes Filtering**: Channels können per `canHandle()` entscheiden, welche Notifications sie akzeptieren
- **Convenience Methods**: `debug()`, `info()`, `warn()`, `error()` für einfache Nutzung
- **Dynamic Channel Management**: Channels zur Laufzeit hinzufügen/entfernen (`addChannel()`, `removeChannel()`)
- **TraceId-Support**: Optionale Trace-IDs für Request-Tracking über Channel-Grenzen hinweg
- Test-Suite konsolidiert (1151 Tests nach Entfernen der ErrorService-Spezialtests)
- 100% Test-Coverage für Notification-Center-Module
- 100% Type-Coverage (10530/10530)
- DI-Singleton per `registerClass` in `notification-center.config.ts` registriert
- Vollständig SOLID-konform: Open/Closed Principle für neue Channels
- **ADR-0012 (Superseded)**: Dokumentiert historische ErrorService-Architektur, nun vom NotificationCenter abgelöst
- **Port Infrastructure Test Suite**: Dedizierte Tests für PortSelector- und Registry-Registrierung ([Details](src/config/modules/__tests__/port-infrastructure.config.test.ts))
- **Value Registration Pipeline Docs**: Neue Dokumentationsabschnitte zu Static/Subcontainer/Loop-Values ([Details](ARCHITECTURE.md#bootstrap-value-kategorien-neu))
- **ServiceContainer Token**: `serviceContainerToken` ermöglicht gezielte DI für Container-abhängige Infrastruktur (z. B. HealthChecks) ([Details](src/tokens/tokenindex.ts))

## Geändert
- **Dependency Configuration Registration Order**: ErrorHandling-Modul entfällt
- Neue Registrierungs-Reihenfolge: Core → Observability → Utilities → Port Infrastructure → Foundry Services → I18n Services → Notification Center → Registrars → Validation
- NotificationCenter benötigt Logger, FoundryUI, EnvironmentConfig (alle bereits früher registriert)
- **Projektweite Umstellung auf NotificationCenter**: Alle Business-Services nutzen direkt NotificationCenter
- `JournalVisibilityService`, `ModuleHookRegistrar`, `ModuleSettingsRegistrar`, `RenderJournalDirectoryHook`
- Konsistentes Routing via `{ channels: ["ConsoleChannel"] }` für Bootstrap-/Interne Fehler
- Legacy `ErrorService` inklusive Token, Tests und Config entfernt
- **Static/Subcontainer/Loop Value Flow**: `configureDependencies` trennt Bootstrap-Werte in drei Kategorien und registriert Health-Checks erst nach erfolgreicher Validation ([Details](src/config/dependencyconfig.ts))
- **Factory → Class Migration**: Alle bisherigen `registerFactory`-Pfadstellen auf konsistente `registerClass`-Wrapper umgestellt (Logger, PortSelectionEventEmitter, TranslationHandlerChain, NotificationCenter, HealthChecks)
- **DI Wrapper Layout**: Wrapper und Basisklasse leben jetzt im selben File, die Basisklasse steht oben und der `DI...`-Wrapper folgt direkt danach. Dadurch bleiben `static dependencies` sichtbar und Tests können die Basisklasse weiterhin direkt instanziieren ([Details](src/services/consolelogger.ts))
- **Dependency Config Tests**: Erweiterte Fehlerpfad-Abdeckung (NotificationCenter, HealthChecks, Registries) ([Details](src/config/__tests__/dependencyconfig.test.ts))

## Fehlerbehebungen
- **Health Check Registration Errors**: `registerLoopPreventionServices()` propagiert fehlgeschlagene Registrierungen sofort und vermeidet Post-Validation Value-Registrierungen ([Details](src/config/dependencyconfig.ts))

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
