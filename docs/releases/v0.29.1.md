# Release Notes - Version 0.29.1

**Veröffentlichungsdatum:** 2025-11-23

## Hinzugefügt
- **Type-Definitionen für libWrapper**: Explizite Typen `FoundryContextMenu` und `LibWrapperFunction` für bessere Type-Safety
- **Test-Coverage für Context-Menü-Callbacks**: Neue Tests für Promise-basierte Callbacks und Fehlerbehandlung in Context-Menü-Optionen
- **Test-Coverage für FoundryUIPort Fallback**: Test für `game.journal.directory.render()` Fallback-Logik

## Geändert
- **Type-Coverage auf 100%**: Verbesserte Typisierung in `foundry-journal-event-adapter.ts` durch explizite Typen statt `any`/`unknown` Assertions
- `FoundryContextMenu` Type-Definition für Context-Menü-Instanzen
- `LibWrapperFunction` Type-Definition für libWrapper Wrapper-Funktionen
- Verwendung von `this: FoundryContextMenu` Parameter statt Type-Assertions
- Direkte Verwendung von `this` statt Aliasing in lokale Variable (Linter-Konformität)
- **Code-Coverage auf 100%**: Zusätzliche Tests für alle Code-Pfade
- Context-Menü-Optionen mit Promise-basierten Callbacks
- Fehlerbehandlung für rejected Promises in Callbacks
- Fallback-Logik in `FoundryUIPort.rerenderJournalDirectory()`
- **libWrapper Typisierung**: Verbesserte Type-Definitionen für `globalThis.libWrapper` mit präzisen Funktionssignaturen

## Fehlerbehebungen
- **Type-Coverage**: Behebung von Type-Coverage-Problemen (99.88% → 100%)
- Entfernung von `any`-Typisierungen durch explizite Typen
- Entfernung von `unknown`-Assertions durch präzise Typ-Definitionen
- **Linter-Konformität**: Behebung von `@typescript-eslint/no-this-alias` Warnung durch direkte `this`-Verwendung

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
