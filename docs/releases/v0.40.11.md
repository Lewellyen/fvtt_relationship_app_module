# Release Notes - Version 0.40.11

**Veröffentlichungsdatum:** 2025-12-04

## Hinzugefügt
- **Dependency-Analyse Tools**: Madge-basierte Analyse-Scripts hinzugefügt
- `npm run analyze:deps` - Exportiert alle Dependencies als JSON
- `npm run analyze:circular` - Findet zirkuläre Abhängigkeiten
- `npm run analyze:graph` - Erstellt SVG-Diagramm der Gesamt-Architektur
- `npm run analyze:graph:domain` - Layer-spezifisches Diagramm für Domain
- `npm run analyze:graph:application` - Layer-spezifisches Diagramm für Application
- `npm run analyze:graph:infrastructure` - Layer-spezifisches Diagramm für Infrastructure
- `npm run analyze:graph:framework` - Layer-spezifisches Diagramm für Framework
- `npm run analyze:all` - Führt alle Analysen und erstellt alle Diagramme
- ([Details](docs/refactoring/CIRCULAR-DEPS-MASTER-PLAN.md))
- **Refactoring-Pläne**: Detaillierte Umsetzungspläne zur Behebung zirkulärer Abhängigkeiten
- [Master-Plan](docs/refactoring/CIRCULAR-DEPS-MASTER-PLAN.md) - Übergeordnete Roadmap
- [Plan 1: Token Hub Problem](docs/refactoring/CIRCULAR-DEPS-FIX-PLAN-1-TOKENS.md) - 69/74 Zyklen (93%) - ✅ UMGESETZT
- [Plan 2: Domain Ports](docs/refactoring/CIRCULAR-DEPS-FIX-PLAN-2-DOMAIN-PORTS.md) - 3 Zyklen
- [Plan 3: RuntimeConfig](docs/refactoring/CIRCULAR-DEPS-FIX-PLAN-3-RUNTIME-CONFIG.md) - ~20 Zyklen

## Geändert
- **Dependency Management**: Token-Imports umstrukturiert für besseres Tree-Shaking
- `ServiceType` Union in dedizierte Datei ausgelagert: `@/infrastructure/di/types/service-type-registry`
- Barrel-Exports in `@/infrastructure/shared/tokens/index.ts` als deprecated markiert
- Empfohlen: Direkte Imports aus spezifischen Token-Dateien (z.B. `@/infrastructure/shared/tokens/core.tokens`)
- **Migration**: Alte Imports funktionieren weiter (Backward Compatible), aber ESLint zeigt Warnings
- **Vorteile**: Besseres Tree-Shaking, schnellere Build-Zeiten, reduzierte transitive Imports
- ([Details](docs/refactoring/CIRCULAR-DEPS-FIX-PLAN-1-TOKENS.md))

## Fehlerbehebungen
- **Token Hub Problem behoben**: 69 von 74 zirkulären Abhängigkeiten aufgelöst (93%)
- `infrastructure/shared/tokens/index.ts` war zentrale "God File" die alle Service-Typen importierte
- `ServiceType` Union verursachte transitive Imports des gesamten Projekts bei jedem Token-Import
- Lösung: `ServiceType` in dedizierte Registry ausgelagert, die nur vom DI-Container genutzt wird
- Services importieren jetzt nur noch die spezifischen Tokens, die sie benötigen
- Alle Tests (1884/1884) bestanden, 100% Type Coverage
- ([Details](docs/refactoring/CIRCULAR-DEPS-FIX-PLAN-1-TOKENS.md))

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
