# Release Notes - Version 0.12.0

**Veröffentlichungsdatum:** 2025-11-10

## Hinzugefügt
- **ADR-0009: Bootstrap DI Exceptions** (docs/adr/0009-bootstrap-di-exceptions.md)
- Dokumentiert legitime Ausnahmen von DI-Regel in Bootstrap-Phase
- ENV-Import in CompositionRoot (Chicken-Egg-Problem)
- console.error in init-solid.ts (Pre-Logger-Fehler)
- BootstrapErrorHandler als statische Klasse (vor Logger-Verfügbarkeit)
- Definiert klare Phasen: Bootstrap vs. Runtime mit unterschiedlichen Regeln
- **Release-Tool: Automatische Erkennung**: Unterscheidet Code- vs. Dokumentations-Änderungen
- Analysiert `git status` und klassifiziert geänderte Dateien automatisch
- Info-Banner zeigt Erkennungsergebnis mit Liste geänderter Dateien
- Empfiehlt automatisch den passenden Modus (Release vs. Docs-Commit)
- **Release-Tool: Zwei Modi**:
- **Release-Modus**: Version hochsetzen, Build, Tag, GitHub Release (wie bisher)
- **Dokumentations-Modus**: Nur Commit + Push, keine neue Version, kein Tag
- Unreleased-Sektion im CHANGELOG bleibt bei Doku-Commits erhalten
- Sammelt alle Änderungen (inkl. Doku) für den nächsten echten Code-Release
- **GitHub Actions: Automatischer Release-Workflow** (.github/workflows/release.yml)
- Läuft automatisch bei Git-Tags (v*)
- Erstellt Production Build (`npm run build`)
- Generiert module.zip mit allen Foundry VTT-relevanten Dateien
- Erstellt GitHub Release mit Release Notes aus `docs/releases/`
- Markiert v0.x.x automatisch als Pre-Release
- Uploadet module.zip und module.json für Foundry VTT Installation

## Geändert
- **SOLID Refactoring: ModuleApiInitializer** (src/core/api/module-api-initializer.ts)
- DRY: Deprecation-Warning-Logik in private Methode `handleDeprecationWarning()` extrahiert
- SRP: `expose()` Methode von 255 auf ~20 Zeilen reduziert durch Methoden-Extraktion:
- `createResolveFunction()` - Erstellt resolve() mit Wrapper-Logik
- `createResolveWithErrorFunction()` - Erstellt resolveWithError() mit Result-Pattern
- `createApiObject()` - Erstellt komplettes ModuleApi-Objekt
- Deprecation-Warnings bleiben bei console.warn (für externe API-Consumer, nicht interne Logs)
- Verbesserte Testbarkeit und Wartbarkeit durch Methoden-Extraktion
- **SOLID Refactoring: ModuleHookRegistrar** (src/core/module-hook-registrar.ts)
- Logger als Dependency injiziert (statt console.error)
- SRP: Logging-Verantwortlichkeit beim Logger-Service
- Dependency Chain geprüft: Logger (Step 2) -> ModuleHookRegistrar (Step 8) - keine Circular Dependency
- **GitHub Actions: Alle Workflows optimiert mit Whitelist-Ansatz**
- **CI-Workflow** (.github/workflows/ci.yml): Läuft nur bei Code/Config-Änderungen
- **Security Audit** (.github/workflows/security.yml): Läuft nur bei package.json/package-lock.json Änderungen
- **CodeQL Security Analysis** (.github/workflows/codeql.yml): Läuft nur bei Source-Code-Änderungen
- Alle mit `paths:` Whitelist statt Blacklist
- Konsistent mit Release-Tool-Logik (gleiche Definition von "Code")
- Spart massiv GitHub Actions Minutes bei Doku-Commits und Tooling-Updates
- **Release-Tool GUI**: Komplett überarbeitet mit intelligentem Modus-System
- Neue Funktionen in `release_utils.py`: `detect_change_type()`, `get_changed_files_info()`, `is_code_file()`, `is_documentation_file()`
- **Whitelist-Ansatz**: Prüft ob Änderungen in Code-Verzeichnissen (src/, templates/, styles/, lang/) oder wichtigen Config-Dateien
- Alles andere (docs/, scripts/, .github/, *.md, etc.) wird als Doku/Tooling klassifiziert
- Info-Banner mit automatischer Erkennung und Dateiliste
- Radio Buttons für Modus-Auswahl (Release vs. Docs)
- UI passt sich dynamisch an gewählten Modus an (Version-Controls nur bei Release)
- Neue `documentation_commit()` Methode für Doku-Commits ohne Versions-Änderung

## Fehlerbehebungen
- **Release-Tool GUI**: Button-Sperre im Dokumentations-Modus entfernt
- Versions-Validierung läuft nur im Release-Modus
- Im Dokumentations-Modus ist der "Commit erstellen" Button immer aktiv

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
