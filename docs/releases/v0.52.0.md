# Release Notes - Version 0.52.0

**Veröffentlichungsdatum:** 2026-01-03

## Hinzugefügt
- **Dynamic Window Framework v2.1 - Vollständige Implementierung**: Das komplette Window-Framework gemäß Spezifikation ([Details](docs/ideas/dynamic-window-framework-v2.1.md))
- **MVP (Phase 1) vollständig umgesetzt**: Alle Kern-Komponenten implementiert
- WindowDefinition Schema mit definitionId/instanceId-Trennung
- WindowController als Kernstück des Frameworks
- WindowFactory mit Multi-Instance-Unterstützung
- WindowRegistry für Definitions und Instances
- FoundryApplicationWrapper als dünne Wrapper-Klasse
- SvelteRenderer mit StatePort/RuneState-Integration
- StateStore, StatePort (RuneState als Reference Implementation)
- RemoteSyncGate mit window-scoped Origin-Tracking
- GlobalDocumentCache als Singleton mit RuneState
- Typisiertes EventBus (EventMap-basiert)
- ActionDispatcher, BindingEngine, ViewModelBuilder
- PersistAdapter (Flags, Settings) mit `render:false` Support
- WindowHooksService für Hook-Integration
- Idempotente Patch Utilities
- Vollständige DI-Container-Integration
- **Phase "Svelte-first Stabilisierung" umgesetzt**: Reaktive StatePort-Implementierung als bewusste Designentscheidung
- RuneState als Default-Implementierung für StatePort
- Renderer.update() Dogma: Nur Struktur-Updates, keine State-Updates
- Idempotente Patch Utilities implementiert
- **Phase 2 Features teilweise umgesetzt**: Erweiterte Features implementiert
- ActionDispatcher mit vollständiger Permissions/Validation
- EventBus vollständig implementiert
- Bindings (State, Settings, Flags) - SyncBinding primär, SchemaUiBinding optional
- PersistAdapter unterstützt Settings und Flags
- Window-Position-Management implementiert
- Error-Boundary für Components unterstützt
- **Architektur-Prinzipien befolgt**: Clean Architecture, SOLID-Prinzipien, Dependency Inversion
- Domain-Layer mit Ports und Types (keine Abhängigkeiten nach außen)
- Application-Layer mit Services (abhängig nur von Domain)
- Infrastructure-Layer mit konkreten Implementierungen
- StatePort und SharedDocumentCache als Ports (engine-agnostisch)
- RuneState und GlobalDocumentCache als Reference Implementations
- **Kritische Fixes aus v2.1 umgesetzt**: Alle 28 kritischen Fixes aus der Spezifikation implementiert
- StatePort/RuneState mit reaktiver API
- Window-scoped Origin-Tracking statt Client-scoped
- Multi-Instance App ID mit instanceId
- FoundryApplicationWrapper.render() Guard
- BindingEngine async sync() korrigiert
- Drei-State-Modell (Window UI State, Shared Document State, Persisted State)
- Engine-Agnostik durch Ports gewährleistet
- **Separate Testdateien für Edge Cases**: Neue isolierte Testdateien für schwer testbare Code-Pfade ([Details](src/framework/core/__tests__/init-solid-ui-edge-cases.test.ts))
- `init-solid-ui-edge-cases.test.ts`: Tests für UI-Edge-Cases in `init-solid.ts`
- Deckt Fälle ab, in denen `ui` definiert ist, aber `ui.notifications` `undefined` oder `null` ist
- Testet `PORT_SELECTION_FAILED`-Fehler, wenn `foundryVersion` `undefined` ist
- **Umfassende Test-Coverage für Window-Framework**: Neue Test-Suites für Window-Services ([Details](src/application/windows/services/__tests__/))
- `binding-engine.test.ts`: Tests für alle Edge-Cases in `BindingEngine`
- `window-controller.test.ts`: Tests für alle Lifecycle-Methoden und Edge-Cases
- Deckt defensive Programmierung und schwer testbare Branches ab

## Geändert
- **100% Test-Coverage erreicht**: Alle Code-Pfade sind jetzt vollständig getestet
- Lines: 100%
- Statements: 100%
- Branches: 100%
- Functions: 100%
- **Entfernung aller `v8 ignore` Kommentare**: Alle Code-Pfade müssen jetzt getestet werden ([Details](src/framework/core/init-solid.ts))
- Defensive Programmierung wird durch Tests abgedeckt
- Keine Code-Pfade mehr ausgeschlossen
- **Verbesserte Testbarkeit**: Code-Anpassungen für bessere Testbarkeit ohne Funktionsverlust
- `binding-engine.ts`: Entfernung von logisch nie erreichbaren else-Branches
- `window-controller.ts`: Tests für defensive Prüfungen hinzugefügt
- `init-solid.ts`: Tests für UI-Edge-Cases hinzugefügt
- **Type-Coverage**: 100% Type-Coverage erreicht mit notwendigen `type-coverage:ignore-next-line` Kommentaren
- **ESLint-Konfiguration**: Erweiterte Linting-Regeln für bessere Code-Qualität ([Details](eslint.config.mjs))
- **Check-Skripte**: Verbesserte `check-no-ignores.mjs` für bessere Überprüfung von Coverage-Ignores ([Details](scripts/check-no-ignores.mjs))

## Fehlerbehebungen
- **Test-Coverage-Lücken**: Alle fehlenden Branches in kritischen Services abgedeckt
- `binding-engine.ts`: Tests für else-Branches bei `initialize()` und `getNormalizedBindings()`
- `window-controller.ts`: Tests für defensive Prüfungen in `onFoundryClose()`
- `init-solid.ts`: Tests für UI-Edge-Cases bei Bootstrap-Fehlern
- **Type-Check-Fehler**: Behebung von Type-Check-Fehlern in Test-Dateien
- Korrekte Type-Assertions für `ui`-Mocks
- Entfernung ungenutzter Imports
- **Svelte-Check-Fehler**: Behebung von Svelte-Check-Fehlern durch korrekte Type-Assertions

## Bekannte Probleme
- Keine bekannten Probleme

## Upgrade-Hinweise
- Keine besonderen Maßnahmen erforderlich
