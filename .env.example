# =============================================================================
# Environment Configuration for Foundry VTT Relationship App Module
# =============================================================================
# Copy this file to .env and adjust values as needed
# The .env file is ignored by git and should contain your local settings

# =============================================================================
# BUILD MODE (Vite)
# =============================================================================
# Controls the build mode and default configurations
# Valid values: "development" | "production"
#
# development:
#   - Enables debug logging (LogLevel.DEBUG)
#   - Enables debug mode features (verbose logging, performance marks)
#   - Generates source maps
#   - No minification
#   - Faster build times
#
# production:
#   - Info logging only (LogLevel.INFO)
#   - Disables debug mode
#   - Optimized build
#   - No minification (Svelte compatibility - intentional)
#   - keepNames: true for Foundry debugging
#
# Default: development
MODE=development

# Alternative for production builds:
# MODE=production

# =============================================================================
# PERFORMANCE TRACKING & METRICS
# =============================================================================
# Enable performance tracking and metrics collection
# 
# When enabled, the module collects metrics about:
#   - Container service resolutions (count, duration, errors)
#   - Port selection performance (which version selected)
#   - Cache hit rates
#   - Average resolution times (rolling window of last 100 resolutions)
#
# Metrics are accessible via:
#   const api = game.modules.get('fvtt_relationship_app_module').api;
#   const metrics = api.getMetrics();
#   console.table(metrics);
#
# Performance impact: Minimal (uses Float64Array circular buffer)
#
# Valid values: "true" | "false" | undefined
# Default: false (disabled)
VITE_ENABLE_PERF_TRACKING=false

# Enable performance tracking for production monitoring:
# VITE_ENABLE_PERF_TRACKING=true

# =============================================================================
# CACHE SERVICE (GLOBAL CACHING)
# =============================================================================
# The CacheService accelerates repeated data lookups (currently used by the
# JournalVisibilityService) and exposes hit/miss metrics via the public API.
#
# VITE_CACHE_ENABLED
#   - "true": Cache is active (default)
#   - "false": Cache layer is bypassed completely
#   - undefined: falls back to default ("true")
#
# VITE_CACHE_TTL_MS
#   - Default: 5000 (5 seconds)
#   - Values <= 0 disable TTL expiration (entries live until explicitly invalidated)
#
# VITE_CACHE_MAX_ENTRIES
#   - Optional LRU limit
#   - When set, the oldest entry is removed once the limit is exceeded
#   - Leave empty or omit to allow unlimited entries (bounded only by browser memory)
#
VITE_CACHE_ENABLED=true
VITE_CACHE_TTL_MS=5000
# Example: limit cache to 250 entries
# VITE_CACHE_MAX_ENTRIES=250

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. All VITE_* prefixed variables are available at build-time only
#    They are replaced during the build process and cannot be changed at runtime
#
# 2. Runtime configuration is available via Foundry VTT Module Settings:
#    Settings → Module Configuration → "Beziehungsnetzwerke für Foundry"
#    - Log Level (DEBUG, INFO, WARN, ERROR) - can be changed without rebuild
#
# 3. Environment variables vs Runtime Settings:
#    - Use .env for BUILD-TIME configuration (defaults, feature flags)
#    - Use Foundry Settings for RUNTIME configuration (user preferences)
#
# 4. Adding new environment variables:
#    a. Add to this file with documentation
#    b. Add type to src/custom.d.ts (ImportMetaEnv interface)
#    c. Use in src/config/environment.ts (ENV object)
#    d. Update documentation in README.md
#
# =============================================================================
# FUTURE ENVIRONMENT VARIABLES (not yet implemented)
# =============================================================================
# These are placeholders for potential future features:

# Enable advanced debug features (detailed stack traces, verbose DI logging)
# VITE_ENABLE_ADVANCED_DEBUG=false

# Enable experimental features
# VITE_ENABLE_EXPERIMENTAL_FEATURES=false

# Custom metrics endpoint for external monitoring
# VITE_METRICS_ENDPOINT=https://metrics.example.com/api/collect

# Sentry DSN for error reporting (if implemented)
# VITE_SENTRY_DSN=


